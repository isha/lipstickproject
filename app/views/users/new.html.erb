
<div class="Container header">
  <h1> Form Title </h1>
</div>
<div class="container first_form_view">
    <div class="row" style="text-align: center">
      <h4>Sentence about donating </h4>
    </div>
    <div class="row"> 
      <div class="offset-by-two two columns">
        <button class="donation-amount u-full-width" val="20">$20</button>
      </div>
      <div class="two columns">
        <button class="donation-amount u-full-width" val="50">$50</button>
      </div>
      <div class="two columns">
        <button class="donation-amount u-full-width" val="75">$75</button>
      </div>
      <div class="two columns">
        <button class="donation-amount u-full-width" val="100">$100</button>
      </div>
    </div>  
    <div class="row">
      <div class="offset-by-two eight columns">  
        <input type="text" class="donation-box u-full-width" value="0">
      </div>
    </div>  
    <div class="row">
      <div class="offset-by-two eight columns">
        <button class="sub-initial u-full-width">Donate</button>
      </div>
    </div>
</div>

<div class="container second_form_view" style="display:none">
  <%= form_for :user, url: users_path, html: { id: "payment-form"} do |f| %>
  <div class="row">
    <div class="six columns">
      <p>
        <%= f.label :first_name %>
        <%= f.text_field :first_name, :class =>"u-full-width", :placeholder=>"First Name" %>
      </p>  
    </div>  
    <div class="six columns">
      <p>
        <%= f.label :last_name %>
        <%= f.text_field :last_name, :class =>"u-full-width" , :placeholder=>"Last Name"%>
      </p>
    </div>  
  </div>
  <div class="row">

    <p>
      <%= f.label :email %>
      <%= f.text_field :email, :class =>"u-full-width", :placeholder => "Email Address" %>
    </p>
  </div>

  <%= f.fields_for :addresses do |address_form| %>
    <div class="row">
      <div class="six columns">  
        <p>
          <%= address_form.label :street %>
          <%= address_form.text_field :street, :class =>"u-full-width", :placeholder=>"Street Name"%>
        </p>
      </div>
      <div class="six columns">  
        <p>
          <%= address_form.label :house %>
          <%= address_form.text_field :house, :class =>"u-full-width" , :placeholder=>"House or Apartment Number"%>
        </p>
      </div> 
    </div>
    <div class="row">
      <div class="four columns">
        <p>
          <%= address_form.label :city %>
          <%= address_form.text_field :city, :class =>"u-full-width" , :placeholder=>"City"%>
        </p>
      </div>
      <div class="four columns">
        <p>
          <%= address_form.label :province %>
          <%= address_form.text_field :province, :class =>"u-full-width" , :placeholder=>"Province"%>
        </p>
      </div>
      <div class="four columns">  
        <p>
          <%= address_form.label :postal_code %>
          <%= address_form.text_field :postal_code , :class =>"u-full-width", :placeholder=>"Postal Code"%>
        </p>
      </div>  
    </div>
  <% end %>
  <%= f.fields_for :donations do |donation_form| %>
    <div class="row">
      <div class="twelve columns">
        <p>
          <%= donation_form.label :amount %>
          <%= donation_form.text_field :amount , :class =>"final-amount u-full-width", :placeholder=>"Amount"%>
        </p>
      </div>
    </div>
  <% end %>
  <div id="payment-form">
    <span class="payment-errors"></span>
      <div class="row">
        <label>
          <span>Card Number</span>       
          <input type="text" size="20" data-stripe="number"/>
        </label>
      </div>
      <div class="form-row">
        <label>
          <span>CVC</span>
          <input type="text" size="4" data-stripe="cvc"/>
        </label>
      </div>
      <div class="form-row">
        <label>
          <span> Expiration (MM/YYYY)</span>
          <input type="text" size="2" data-stripe="exp-month"/>
        </label>
        <span> / </span>
        <input type="text" size="4" data-stripe="exp-year"/>
      </div>
  </div>
  <div class="row">
    <div class="one column">
      <p>
        <%= f.check_box :recurring %>
      </p>
    </div>
    <div class="four columns">
      <p>
        <%= f.label :recurring,  "Monthly Donation" %>
      </p>
    </div>
    <div class="one column">
      <p>
        <%= f.check_box :accepts_marketing %>
      </p>
    </div>
    <div class="four columns">
      <p>
        <%= f.label :accepts_marketing, "Recieve emails about stuff and stuff" %>
      </p>
    </div>

  </div> 
    <button type="submit"> Submit </button>

  <% end %>  
  </div>
</div>
<%= javascript_include_tag "https://js.stripe.com/v2/" %>
<script>
    Stripe.setPublishableKey('#{Rails.application.secrets.stripe_publishable_key}');
</script>
